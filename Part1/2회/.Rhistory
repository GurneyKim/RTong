#### 데이터 파악하기, 구조, 요약통계량 확인 ####
# https://mrchypark.github.io/dabrp_classnote3/class2#11 +a
getwd()
mpg <- read.csv('./Part1/2회/data/mpg1.csv')#,row.names = 'X')
#### 데이터 파악하기, 구조, 요약통계량 확인 ####
# https://mrchypark.github.io/dabrp_classnote3/class2#11 +a
getwd()
mpg <- read.csv('./data/mpg1.csv')#,row.names = 'X')
# mpg <- mpg[,-1]
head(mpg)
exam <- read.csv("Data/csv_exam.csv")
exam
str(exam)
#### dplyr::glimpse, tbl_df ####
glimpse(exam) # dplyr::glimpse(exam)
3) 파이프 연산자 %>%
#### dplyr (데이터를 다루는 7가지 방법)####
library(dplyr)
#### dplyr::glimpse, tbl_df ####
glimpse(exam) # dplyr::glimpse(exam)
exam <- tbl_df(exam)
head(exam)
head(exam)
class(exam)
#### %>% 파이프라인 ####
head(exam,10)
exam %>% head() # 파이프연산자 %>%
#### dplyr::filter(), 조건에 맞는 행 추출 ####
# exam에서 class가 1인 경우만 추출하여 출력
subset(exam, exam$class==1) # r 기초 문법
exam %>% filter(class == 1) # dplyr 문법 # filter(exam, class==1)
# 2반인 경우만 추출
exam %>% filter(class == 2)
# 1반이 아닌 경우
exam %>% filter(class != 1)
# 3반이 아닌 경우
exam %>% filter(class != 3)
# 수학 점수가 50점을 초과한 경우
exam %>% filter(math > 50)
# 수학 점수가 50점 미만인 경우
exam %>% filter(math < 50)
# 영어 점수가 80점 이상인 경우
exam %>% filter(english >= 80)
# 영어 점수가 80점 이하인 경우
exam %>% filter(english <= 80)
#### & (and) 연산자 ####
# 1반이면서 수학 점수가 50점 이상인 경우
exam %>% filter(class == 1 & math >= 50)
# 2반이면서 영어 점수가 80점 이상인 경우
exam %>% filter(class == 2 & english >= 80)
#### | (or) 연산자 ####
# 수학 점수가 90점 이상이거나 영어 점수가 90점 이상인 경우
exam %>% filter(math >= 90 | english >= 90)
# 영어 점수가 90점 미만이거나 과학점수가 50점 미만인 경우
exam %>% filter(english < 90 | science < 50)
#### dplyr::select() ,열 추출 ####
# filter() vs select()
# filter()는 조건에 맞는 행 추출
# select()는 열 추출
exam %>% select(math)                  # math 추출
exam %>% select(english)               # english 추출
exam %>% select(class, math, english)  # class, math, english 변수 추출
exam %>% select(-math)                 # math 제외
exam %>% select(-math, -english)       # math, english 제외
#### filter() %>% select() , 조건으로 행 데이터를 뽑고 필요한 열 추출####
# class가 1인 행만 추출한 다음 english 추출
exam %>% filter(class == 1) %>% select(english)
